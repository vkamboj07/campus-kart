<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CampusKart - Sign Up</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="signup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- Top Header -->
    <div class="top-header">
        <div class="container">
            <div class="top-header-content">
                <span class="promo-text">Back to college sale upto 50% OFF on your first rent</span>
                <div class="top-header-right">
                    <span class="rent-now">Rent Now</span>
                    <div class="language-selector">
                        <span>English</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>CampusKart</h1>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="singnup.html" class="active">Sign Up</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <div class="search-bar">
                        <input type="text" placeholder="what you looking">
                        <span class="search-icon">üîç</span>
                    </div>
                    <div class="header-icons"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sign Up Section -->
    <section class="signup-section">
        <div class="container">
            <div class="signup-content">
                <div class="signup-visual">
                    <div class="visual-elements">
                        <div class="phone-mockup">
                            <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=200&h=300&fit=crop" alt="Phone">
                        </div>
                        <div class="cart-icon">
                            <img src="https://images.unsplash.com/photo-1555529669-e69e7aa0ba9a?w=100&h=100&fit=crop" alt="Shopping Cart">
                        </div>
                        <div class="shopping-bags">
                            <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=50&h=50&fit=crop" alt="Shopping Bag">
                            <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=50&h=50&fit=crop" alt="Shopping Bag">
                        </div>
                    </div>
                </div>
                <div class="signup-form-container">
                    <div class="signup-form">
                        <h2>Create an account</h2>
                        <p>Enter your details below</p>
                        
                        <form>
                            <div class="form-group">
                                <input type="text" name="name" placeholder="Name" required>
                            </div>
                            <div class="form-group">
                            <input type="email" name="email" placeholder="Email or Phone Number" required>
                            </div>
                            <div class="form-group">
        <input type="password" name="password" placeholder="Password" required>
                            </div>
                            
                            <button type="submit" class="create-account-btn">Create Account</button>
                            
                            <button type="button" class="google-signup-btn">
                                <span class="google-icon">G</span>
                                Sign up with Google
                            </button>
                        </form>
                        
                        <div class="login-link">
                            <p>Already have account? <a href="#">Login</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (Unified) -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Exclusive</h3>
                    <p class="footer-subtitle">About Us</p>
                    <p>We provide the best campus essentials at student-friendly prices.</p>
                    <p class="footer-subtitle" style="margin-top:16px;">Subscribe</p>
                    <p>Get 10% off your first order</p>
                    <div class="newsletter">
                        <input type="email" placeholder="Enter your email">
                        <button aria-label="Send"></button>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <p>111 Bijoy sarani, Dhaka, DH 1515, Bangladesh.</p>
                    <p>exclusive@gmail.com</p>
                    <p>+88015-88888-9999</p>
                </div>
                <div class="footer-section">
                    <h3>Account</h3>
                    <ul>
                        <li><a href="#">My Account</a></li>
                        <li><a href="#">Login / Register</a></li>
                        <li><a href="#">Cart</a></li>
                        <li><a href="#">Wishlist</a></li>
                        <li><a href="#">Shop</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Quick Link</h3>
                    <ul>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms Of Use</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Download App</h3>
                    <p>Save $3 with App New User Only</p>
                    <div class="qr-and-badges">
                        <div class="qr-code">
                            <img src="https://i.imgur.com/7bKQ9qC.png" alt="QR Code">
                        </div>
                        <div class="store-badges">
                            <img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="Download on the App Store">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" alt="Get it on Google Play">
                        </div>
                    </div>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fa-brands fa-x-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fa-brands fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© Copyright Rimel 2022. All right reserved</p>
            </div>
        </div>
    </footer>
 <script>
document.querySelector("form").addEventListener("submit", async function(event) {
    event.preventDefault();

    // Collect form input values
    const name = document.querySelector('input[name="name"]').value;
    const email = document.querySelector('input[name="email"]').value;
    const password = document.querySelector('input[name="password"]').value;

    // Validate inputs
    if (!name || !email || !password) {
        alert("Please fill in all fields!");
        return;
    }

    if (password.length < 6) {
        alert("Password must be at least 6 characters long!");
        return;
    }

    const formData = { name, email, password };

    const btn = document.querySelector(".create-account-btn");
    const originalText = btn.textContent;
    btn.textContent = "Creating Account...";
    btn.disabled = true;

    try {
        // SEND to backend - save to MongoDB
        const response = await fetch("http://localhost:5000/signup", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(formData)
        });

        const result = await response.json();
        console.log("Signup Response:", result);

        if (response.ok && result.userId) {
            // ‚≠ê SAVE LOGIN SESSION
            localStorage.setItem("userId", result.userId);
            alert("Signup successful! Welcome to CampusKart!");
            // ‚≠ê REDIRECT TO ACCOUNT PAGE TO VIEW PROFILE
            window.location.href = "account.html";
        } else {
            alert(result.msg || "Signup failed! Please try again.");
            btn.textContent = originalText;
            btn.disabled = false;
        }
    } catch (error) {
        console.error("Signup error:", error);
        alert("Signup failed. Please check if the server is running and try again.");
        btn.textContent = originalText;
        btn.disabled = false;
    }
});
</script>

<script>
// Update navigation based on login status
const userId = localStorage.getItem("userId");
if (userId) {
    // Keep Sign Up link pointing to login page
    const signupLink = document.querySelector('a[href="singnup.html"]');
    if (signupLink) {
        signupLink.innerText = "Sign Up";
        signupLink.href = "login.html";
    }
}
</script>

</body>
</html>